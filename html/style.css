/*
  STYLE.CSS - CHISELED GRAPHITE GLASS THEME

  This stylesheet is designed to give the provided HTML structure a modern,
  aesthetic feel based on a "chiseled graphite glass" concept.

  --- ORGANIZATION ---

  1. FONT IMPORTS & ROOT VARIABLES:
     - Imports the 'Inter' and 'Roboto Mono' fonts from Google Fonts for a clean,
       modern typographic style.
     - CSS custom properties (variables) are defined in ':root' for easy
       management of the color scheme, fonts, and other global styles. This
       makes it simple to tweak the entire theme.

  2. GENERAL BODY & LAYOUT STYLES:
     - The 'body' is configured to fill the entire viewport height and prevent
       global scrolling.
     - The main container, '.Env', uses a CSS Grid to create a two-column layout.
       The left column acts as a fixed-width sidebar, while the right column
       is the main, flexible content area.

  3. LAYOUT PLACEMENT & SCROLLING:
     - All direct children of '.Env' are explicitly placed onto the grid using
       the 'grid-area' property.
     - The '.steps' panel is placed in the main content column and is made
       vertically scrollable, so long execution trees can be viewed without
       moving the other panels.
     - The other panels stack vertically in the sidebar column. Because the main
       page does not scroll, they remain in a fixed position relative to the
       scrolling '.steps' content.

  4. "GLASS" PANEL STYLES:
     - The core of the design. All panels are styled to look like panes of
       frosted glass using semi-transparent backgrounds, a backdrop-filter,
       subtle borders, and a box-shadow.
     - A '::before' pseudo-element is used on these panels to create a title
       label (e.g., "ACTIVE GOALS"), which is derived from the class name.

  5. HIERARCHICAL & ELEMENT STYLES:
     - The stylesheet follows the nested structure of the HTML to create a
       clear visual hierarchy.
     - Specific elements like '.Var', '.ConName', '.RuleName', and '.AtomName' are
       styled with a monospaced font and unique colors, similar to syntax
       highlighting.

  --- AESTHETIC CHOICES ---

  - Color Palette: A dark, low-contrast graphite background with highlights of
    cyan, magenta, green, and orange for a futuristic, high-tech feel.
  - Spacing: Generous padding and margins are used throughout to ensure the
    layout is clean, uncluttered, and readable.
  - Borders & Shadows: Soft, rounded corners and box shadows create depth.
*/

/* 1. FONT IMPORTS & ROOT VARIABLES */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap");

:root {
  --font-primary: "Inter", sans-serif;
  --font-mono: "Roboto Mono", monospace;

  --color-bg: #1a1d24;
  --color-panel-bg: rgba(44, 48, 58, 0.5);
  --color-panel-border: rgba(255, 255, 255, 0.15);
  --color-text-primary: #d0d8e8;
  --color-text-secondary: #8a93a5;
  --color-accent-cyan: #22d3ee;
  --color-accent-magenta: #f0abfc;
  --color-accent-green: #a3e635;
  --color-accent-orange: #fb923c;

  --border-radius: 12px;
}

/* 2. GENERAL BODY & LAYOUT STYLES */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-primary);
  background-color: var(--color-bg);
  color: var(--color-text-primary);
  padding: 40px;
}

.Env {
  display: grid;
  grid-template-columns: 350px 1fr; /* Fixed sidebar and flexible main area */
  grid-template-rows: repeat(5, auto); /* Create 5 rows for sidebar items */
  gap: 30px;
  width: 100%;
  max-width: 2000px;
  margin: 0 auto;
}

/* 3. LAYOUT PLACEMENT & SCROLLING */
.activeGoals {
  grid-area: 1 / 1 / 2 / 2;
}
.suspendedGoals {
  grid-area: 2 / 1 / 3 / 2;
}
.failedGoals {
  grid-area: 3 / 1 / 4 / 2;
}
.sigma {
  grid-area: 4 / 1 / 5 / 2;
}
.earlyTerminationReasons {
  grid-area: 5 / 1 / 6 / 2;
}

.steps {
  grid-area: 1 / 2 / 6 / 3; /* Span all 5 rows in the second column */
  overflow-y: auto; /* Enable vertical scrolling for this panel only */
}

/* Custom Scrollbar for Steps Panel */
.steps::-webkit-scrollbar {
  width: 10px;
}
.steps::-webkit-scrollbar-track {
  background: transparent;
  margin: 10px 0;
}
.steps::-webkit-scrollbar-thumb {
  background-color: var(--color-panel-border);
  border-radius: 20px;
}
.steps::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-text-secondary);
}

/* 4. "GLASS" PANEL STYLES */
.activeGoals,
.suspendedGoals,
.failedGoals,
.sigma,
.steps,
.earlyTerminationReasons {
  background-color: var(--color-panel-bg);
  border: 1px solid var(--color-panel-border);
  border-radius: var(--border-radius);
  padding: 40px 24px 24px 24px;
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  position: relative;
  overflow: hidden;
}

.activeGoals::before,
.suspendedGoals::before,
.failedGoals::before,
.sigma::before,
.steps::before,
.earlyTerminationReasons::before {
  font-family: var(--font-mono);
  font-weight: 500;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: var(--color-text-secondary);
  position: absolute;
  top: 16px;
  left: 24px;
}

.activeGoals::before {
  content: "Active Goals";
}
.suspendedGoals::before {
  content: "Suspended Goals";
}
.failedGoals::before {
  content: "Failed Goals";
}
.sigma::before {
  content: "Substitution (Ïƒ)";
}
.steps::before {
  content: "Execution Steps";
}
.earlyTerminationReasons::before {
  content: "Termination Reasons";
}

.List,
.Subst,
.Steps {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* 5. HIERARCHICAL & ELEMENT STYLES */
.StepNode {
  border-left: 2px solid var(--color-panel-border);
  padding-left: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.Step {
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: rgba(0, 0, 0, 0.1);
  border-radius: calc(var(--border-radius) / 2);
  padding: 12px;
}

.subgoals {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-left: 20px;
  border-left: 2px dashed rgba(255, 255, 255, 0.1);
  margin-top: 12px;
}

.subgoals .StepNode {
  padding-top: 12px;
}

.SubstItem {
  display: flex;
  align-items: center;
  gap: 12px;
  font-family: var(--font-mono);
  font-size: 0.9rem;
  background: rgba(0, 0, 0, 0.2);
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.Goal {
  display: flex;
  align-items: center;
  gap: 12px;
  font-family: var(--font-mono);
}

.Var,
.Con,
.Atom,
.rule {
  display: flex;
  align-items: center;
  gap: 8px;
}

.Var {
  color: var(--color-accent-cyan);
}
.ConName {
  color: var(--color-accent-orange);
}
.AtomName {
  color: var(--color-accent-green);
}
.RuleName {
  color: var(--color-accent-magenta);
}

.VarFreshIndex,
.freshGoalIndex {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  background-color: rgba(255, 255, 255, 0.05);
  padding: 2px 5px;
  border-radius: 4px;
  position: relative;
  top: -2px;
  font-weight: 500;
}

.separator {
  width: 100%;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    var(--color-panel-border),
    transparent
  );
  margin: 8px 0;
}

.opts:empty,
.subgoals:empty,
.List:empty {
  display: none;
}

.List:empty::after {
  content: "None";
  font-family: var(--font-mono);
  color: var(--color-text-secondary);
  font-style: italic;
}
